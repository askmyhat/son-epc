version: '3'

networks:
  sonepc_default:
    external: true

services:
  epc_base:
    build:
      context: .
      dockerfile: Dockerfile.base
    image: epc_base:SNAPSHOT

  mme_pp:
    build:
      context: .
      dockerfile: Dockerfile.mme
    image: mme_pp:SNAPSHOT
    container_name: mme_pp
    networks:
      - sonepc_default
    depends_on:
      - epc_base

  hss_pp:
    build:
      context: .
      dockerfile: Dockerfile.hss
    image: hss_pp:SNAPSHOT
    container_name: hss_pp
    networks:
      - sonepc_default

  pgw_pp:
    build:
      context: .
      dockerfile: Dockerfile.pgw
    image: pgw_pp:SNAPSHOT
    container_name: pgw_pp
    networks:
      - sonepc_default
    depends_on:
      - epc_base

  sgw_pp:
    build:
      context: .
      dockerfile: Dockerfile.sgw
    image: sgw_pp:SNAPSHOT
    container_name: sgw_pp
    networks:
      - sonepc_default
    depends_on:
      - epc_base
